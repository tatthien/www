---
title: Thu·∫≠t to√°n Boyer-Moore majority vote
date: 2025-01-21T14:02:11.239Z
description: Thu·∫≠t to√°n t√¨m ph·∫ßn t·ª≠ xu·∫•t hi·ªán nhi·ªÅu nh·∫•t trong m·∫£ng
tags: recap
---

<Image src="/img/boyer-moore.svg" alt="Boyer-Moore majority vote"/>

M·∫•y ng√†y tr·ªü l·∫°i ƒë√¢y m√¨nh d√†nh th·ªùi gian ƒë·ªÉ gi·∫£i c√°c problem tr√™n [Leetcode](https://leetcode.com/u/heythien/). M√¨nh tham gia ch·ªß y·∫øu ƒë·ªÉ n·∫Øm v·ªØng h∆°n v·ªÅ thu·∫≠t to√°n, c≈©ng nh∆∞ n√¢ng cao kh·∫£ nƒÉng t∆∞ duy trong l·∫≠p tr√¨nh.

H√¥m nay g·∫∑p b√†i [Majority Element](https://leetcode.com/problems/majority-element/description). Ban ƒë·∫ßu m√¨nh t·ª± suy nghƒ© ph∆∞∆°ng c√°ch nh∆∞ng sau khi t√¨m hi·ªÉu solution th√¨ ph√°t hi·ªán ra thu·∫≠t to√°n [Boyer-Moore majority vote](https://en.wikipedia.org/wiki/Boyer%E2%80%93Moore_majority_vote_algorithm).

## M√¥ t·∫£ v·∫•n ƒë·ªÅ

B·∫°n ƒë∆∞·ª£c cung c·∫•p m·ªôt m·∫£ng g·ªìm `n` ph·∫ßn t·ª≠ ki·ªÉu `number`. Vi·ªác c·∫ßn l√†m l√† t√¨m ra ph·∫ßn t·ª≠ xu·∫•t hi·ªán nhi·ªÅu h∆°n `n/2` l·∫ßn. Gi·∫£ ƒë·ªãnh r·∫±ng m·∫£ng ƒë∆∞·ª£c cung c·∫•p lu√¥n lu√¥n c√≥ ph·∫ßn t·ª≠ ƒëa s·ªë xu·∫•t hi·ªán.

**V√≠ d·ª•:**

```plain
Input: [2,4,1,1,1]
Output: 1
```

## C√°ch 1 - c√°ch m√¨nh l√†m

Tuy c√°ch l√†m n√†y v·∫´n tr·∫£ ra k·∫øt qu·∫£ ƒë√∫ng, nh∆∞ng performance t·ªá v√† ranking qu√° th·∫•p üòÇ

<Image src="/img/boyer-moore-fg-1.webp" alt="Boyer-Moore majority vote Figure 1" caption="Th·ªùi gian ch·∫°y ch·ªâ beat 12.66%. Con s·ªë n√†y n√™n l√† >50%"/>

- ƒê·∫ßu ti√™n m√¨nh s·∫Ω sort c√°c ph·∫ßn t·ª≠ trong m·∫£ng ƒë·ªÉ ch√∫ng theo m·ªôt th·ª© t·ª±, c√≥ th·ªÉ th·∫•p t·ªõi cao ho·∫∑c ng∆∞·ª£c l·∫°i. Mi·ªÖn l√† ƒë∆∞·ª£c sort.
- Init gi√° tr·ªã `count = 1`, v√† duy·ªát h·∫øt m·∫£ng, n·∫øu hai ph·∫ßn t·ª≠ n·∫±m c·∫°nh nhau m√† gi·ªëng nhau th√¨ s·∫Ω tƒÉng `count` l√™n `1`. N·∫øu kh√¥ng th√¨ s·∫Ω reset `count = 1`
- Sau m·ªói l·∫ßn tƒÉng `count` th√¨ m√¨nh s·∫Ω ki·ªÉm tra `count > n / 2` kh√¥ng.


```ts showLineNumbers
function majorityElement(nums: number[]): number {
  const sortedNums = nums.sort((a, b) => a - b)
  let count = 1
  let candidate: number

  for (let i = 0; i < sortedNums.length; i++) {
    if (sortedNums[i] === sortedNums[i - 1]) {
      count++
      if (count > nums.length / 2) {
        candidate = sortedNums[i]
      }
    } else {
      count = 1
    }
  }

  return candidate
};
```

## C√°ch 2 - √°p d·ª•ng thu·∫≠t to√°n Boyer-Moore majority vote

C≈©ng nh·ªù l√†m b√†i n√†y m√† m√¨nh m·ªõi bi·∫øt thu·∫≠t to√°n [Boyer-Moore majority vote](https://en.wikipedia.org/wiki/Boyer%E2%80%93Moore_majority_vote_algorithm). 

> Thu·∫≠t to√°n n√†y d√πng ƒë·ªÉ t√¨m ph·∫ßn t·ª≠ ƒëa s·ªë (xu·∫•t hi·ªán nhi·ªÅu l·∫ßn nh·∫•t) trong m·ªôt chu·ªói (m·∫£ng) c√°c ph·∫ßn t·ª≠ s·ª≠ d·ª•ng th·ªùi gian tuy·∫øn t√≠nh. Thu·∫≠t to√°n ƒë∆∞·ª£c ƒë·∫∑t t√™n d·ª±a theo hai t√°c gi·∫£ Robert S. **Boyer** v√† J Strother **Moore** l√† hai ng∆∞·ªùi ƒë√£ gi·ªõi thi·ªáu thu·∫≠t to√°n nƒÉm 1981. - Theo Wiki

T√≥m t·∫Øt thu·∫≠t to√°n n√†y d∆∞·ªõi d·∫°ng pseudocode nh∆∞ sau:

- Kh·ªüi t·∫°o m·ªôt ph·∫ßn t·ª≠ `m` v√† m·ªôt bi·∫øn ƒë·∫øm `c` v·ªõi `c = 0`
- V·ªõi m·ªói ph·∫ßn t·ª≠ `x` trong m·∫£ng:
  - N·∫øu `c = 0`, g√°n `m = x`
  - Thay ƒë·ªïi gi√° tr·ªã c·ªßa `c` v·ªõi `c = c + 1` n·∫øu `m = x`
  - Ng∆∞·ª£c l·∫°i, `c = c - 1`
- Tr·∫£ v·ªÅ `m`

```ts showLineNumbers
function majorityElement(nums: number[]): number {
  let candidate
  let count = 0
  for (const num of nums) {
    if (count === 0) {
        candidate = num
    }
    count += (num === candidate) ? 1 : -1
  }
  
  return candidate
}
```

<Image src="/img/boyer-moore-fg-2.webp" alt="Boyer-Moore majority vote Figure 2" caption="M√¨nh ƒë√£ submit l·∫°i v√† k·∫øt qu·∫£ 74.03%"/>

Happy coding!
